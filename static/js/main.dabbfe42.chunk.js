(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,,,,,,,function(e){e.exports=[{name:"Alex",id:"0"},{name:"Vlad",id:"1"}]},function(e,t,n){e.exports=n(33)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,function(e,t,n){"use strict";n.r(t);var a=n(1),o=n.n(a),r=n(9),c=n.n(r),s=n(3),i=n(4),u=n(7),l=n(5),d=n(8),m=n(6),p=Object(m.a)(function(e){var t=e.store;return o.a.createElement("div",{className:"statistics"},o.a.createElement("span",null,"Progress: ",t.completedCount,"/",t.todosCount))}),f=n(11),h=(n(23),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).onChange=function(e){var t=e.target,a=t.name,o=t.value;n.setState(Object(f.a)({},a,o))},n.addTodo=function(e){e.preventDefault();var t=n.props.store,a=t.addTodo,o=t.usersIds,r=n.state.inputText,c=o[Math.floor(Math.random()*o.length)];r&&(a(r,c),n.setState({inputText:""}))},n.addUser=function(e){e.preventDefault();var t=n.props.store.addUser,a=n.state.userName;a&&(t(a),n.setState({userName:""}))},n.state={inputText:"",userName:""},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.inputText,n=e.userName;return o.a.createElement(o.a.Fragment,null,o.a.createElement("form",{className:"form",onSubmit:this.addTodo},o.a.createElement("input",{className:"input",type:"text",name:"inputText",value:t,onChange:this.onChange}),o.a.createElement("button",{type:"submit",className:"form-button"},"Add todo")),o.a.createElement("form",{className:"form",onSubmit:this.addUser},o.a.createElement("input",{className:"input",type:"text",name:"userName",value:n,onChange:this.onChange}),o.a.createElement("button",{type:"submit",className:"form-button"},"Add User")))}}]),t}(a.Component));n(24);var b=function(){return o.a.createElement("div",{className:"loader-wrapper"},o.a.createElement("span",{className:"loader-circle"}),o.a.createElement("span",{className:"loader-circle"}),o.a.createElement("span",{className:"loader-circle"}),o.a.createElement("span",{className:"loader-circle"}))},v=(n(25),Object(m.a)(function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).onToggle=function(){n.props.todo.toggle()},n.onChangeName=function(){var e=prompt("Enter new task","drink coffee"),t=n.props.todo;e&&t.setTitle(e)},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.todo;return o.a.createElement("li",{className:"todoItem"},o.a.createElement("span",null,e.title),e.userId.name?o.a.createElement("span",null,"assignee: ",e.userId.name):null,o.a.createElement("label",null,o.a.createElement("input",{type:"checkbox",checked:e.completed,onChange:e.toggle}),o.a.createElement("span",null,e.completed?"Done!":"")),o.a.createElement("button",{className:"button",type:"button",onClick:this.onChangeName},"Edit"))}}]),t}(a.Component)));v.displayName="TodoItem";var g=v,E=(n(26),function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).componentDidMount=function(){n.props.store.fetchTodos()},n.onDelete=function(e){return function(t){(0,n.props.store.deleteTodo)(e)}},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.store.todos;return"pending"===e.store.status?o.a.createElement(b,null):o.a.createElement("ul",{className:"list"},t.length>0?t.map(function(e){var t=e.id;return o.a.createElement(g,{key:t,todo:e})}):"There is no todos")}}]),t}(a.Component)),j=Object(m.a)(E),O=(n(27),Object(m.a)(function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.store;return o.a.createElement("div",{className:"App"},o.a.createElement(p,{store:e}),o.a.createElement(h,{store:e}),o.a.createElement(j,{store:e}))}}]),t}(a.Component)));O.displayName="App";var N=O;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(28);var y=n(13),w=n.n(y),T=n(16),C=n(2),k=n(14),x=n.n(k),I=C.c.model({id:C.c.identifier,name:C.c.string}),A=C.c.model({id:C.c.identifier,title:C.c.string,completed:!1,userId:C.c.maybe(C.c.reference(I))}).actions(function(e){return{toggle:function(){e.completed=!e.completed},setTitle:function(t){e.title=t}}}),S=n(17),D=C.c.model({todos:C.c.array(A),status:C.c.enumeration("Status",["pending","done","error"]),users:C.c.array(I)}).views(function(e){return{get usersIds(){return e.users.map(function(e){return e.id})},get todosCount(){return e.todos.length},get completedCount(){return e.todos.filter(function(e){return e.completed}).length}}}).actions(function(e){return{addTodo:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=x()();e.todos.push(A.create({id:a,title:t,userId:n}))},addUser:function(t){var n=x()();e.users.push(I.create({name:t,id:n}))},deleteTodo:function(t){var n=e.todos.findIndex(function(e){return e.id===t});e.todos.splice(n,1)},fetchTodos:Object(C.a)(w.a.mark(function t(){var n,a;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.status="pending",t.prev=1,t.next=4,fetch("https://jsonplaceholder.typicode.com/todos");case 4:return n=t.sent,t.next=7,n.json();case 7:(a=t.sent).length=10,e.todos=a.map(function(e){return Object(T.a)({},e,{id:"".concat(e.id),userId:"".concat(0)})}),e.status="done",t.next=17;break;case 13:t.prev=13,t.t0=t.catch(1),console.error("Failed to fetch todos",t.t0),e.status="error";case 17:case"end":return t.stop()}},t,null,[[1,13]])}))}}).create({todos:[],status:"done",users:S});Object(C.b)(D,function(e){console.log(e)});var U=D;c.a.render(o.a.createElement(N,{store:U}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[18,1,2]]]);
//# sourceMappingURL=main.dabbfe42.chunk.js.map